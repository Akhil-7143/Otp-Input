{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\akhil\\\\OneDrive\\\\Desktop\\\\OtpComponent\\\\otp-component\\\\src\\\\Components\\\\OtpInput\\\\index.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OtpInput = ({\n  length = 4,\n  onSubmitHandler = () => {}\n}) => {\n  _s();\n  const [otp, setOtp] = useState(new Array(length).fill(''));\n  const inputRef = useRef([]);\n  useEffect(() => {\n    if (inputRef.current[0]) {\n      inputRef.current[0].focus();\n    }\n  }, []);\n  const onChangeOtp = (e, index) => {\n    const value = e.target.value;\n    if (isNaN(value)) return;\n    const newOtp = [...otp];\n    newOtp[index] = value.substring(value.length - 1);\n    setOtp(newOtp);\n\n    // check and combine otp\n    const combine = newOtp.join(\"\");\n    if (combine.length === length) {\n      onSubmitHandler(combine);\n    }\n\n    // move to the next input field\n\n    if (inputRef.current[index + 1] && value && index < length - 1) {\n      inputRef.current[index + 1].focus();\n    }\n  };\n  // move  to previous input field\n  const handleKeydown = (index, e) => {\n    if (e.key === 'Backspace' && !otp[index] && index > 0 && inputRef.current[index - 1]) {\n      inputRef.current[index - 1].focus();\n      console.log(otp, index, !otp[index]);\n      console.log(otp[index]);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: otp.map((value, index) => {\n      return /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        ref: input => inputRef.current[index] = input,\n        className: \"otp-input\",\n        value: value,\n        onChange: e => onChangeOtp(e, index),\n        onKeyDown: e => handleKeydown(index, e)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 29\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 13\n  }, this);\n};\n_s(OtpInput, \"yTLB0GJM8hNhZNUXb+IGGUfDSR0=\");\n_c = OtpInput;\nexport default OtpInput;\nvar _c;\n$RefreshReg$(_c, \"OtpInput\");","map":{"version":3,"names":["useState","useEffect","useRef","jsxDEV","_jsxDEV","OtpInput","length","onSubmitHandler","_s","otp","setOtp","Array","fill","inputRef","current","focus","onChangeOtp","e","index","value","target","isNaN","newOtp","substring","combine","join","handleKeydown","key","console","log","children","map","type","ref","input","className","onChange","onKeyDown","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/akhil/OneDrive/Desktop/OtpComponent/otp-component/src/Components/OtpInput/index.js"],"sourcesContent":["import { useState ,useEffect,useRef} from \"react\";\r\n\r\nimport './index.css'\r\n\r\nconst OtpInput=({length=4,onSubmitHandler=()=>{}})=>{\r\n    const [otp,setOtp]=useState(new Array(length).fill(''))\r\n   \r\n    const inputRef=useRef([]);\r\n\r\n    useEffect(()=>{\r\n      if (inputRef.current[0]){\r\n        inputRef.current[0].focus()\r\n      }\r\n\r\n    },[])\r\n\r\n  const onChangeOtp=(e,index)=>{\r\n    const value=e.target.value\r\n    if (isNaN(value)) return;\r\n    const newOtp=[...otp]\r\n    newOtp[index]=value.substring(value.length-1)\r\n    setOtp(newOtp)\r\n    \r\n    // check and combine otp\r\n    const combine=newOtp.join(\"\")\r\n    if (combine.length===length){\r\n      onSubmitHandler(combine)\r\n    }\r\n\r\n    // move to the next input field\r\n\r\n    if (inputRef.current[index+1] && value && index<length-1){ \r\n      inputRef.current[index+1].focus() \r\n    }\r\n  }\r\n  // move  to previous input field\r\n  const handleKeydown=(index,e)=>{\r\n   if (e.key==='Backspace' && !otp[index] && index>0 && inputRef.current[index-1]) {\r\n    inputRef.current[index-1].focus();\r\n    console.log(otp,index,!otp[index]);\r\n     console.log(otp[index])\r\n   }\r\n  }\r\n    return( <div>\r\n      \r\n           {otp.map((value,index)=>{\r\n                     return <input type=\"text\"\r\n                            ref={(input)=>(inputRef.current[index] = input)}\r\n                            className=\"otp-input\"\r\n                            key={index}\r\n                            value={value}\r\n                            onChange={(e)=>onChangeOtp(e,index)}  \r\n                            onKeyDown={(e)=>handleKeydown(index,e)}\r\n\r\n                          />\r\n                     })\r\n                }\r\n\r\n            </div>\r\n    )\r\n\r\n}\r\n\r\nexport default OtpInput"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}